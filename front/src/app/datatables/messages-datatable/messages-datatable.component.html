<div class="container" style="margin-top: 10px;">
    <div class="row">
        <div class="col-md-12">
            <h3 class="text-info">Messages envoyés ({{totalItems}})</h3>
        </div>
        <br />
        <hr />
        <br />
        Dans cette section, vous retrouveriez tous les messages que vous avez envoyés aux utilisateurs du DFM.
        <br />
        <ngx-datatable 
        #table
        [rows]="rows" 
        [columns]="columns" 
        class="bootstrap"
        [columnMode]="ColumnMode.force" 
        [footerHeight]="50" 
        rowHeight="auto"
        [count]="totalItems"
        [externalPaging]="true"
        [externalSorting]="true"
        [limit]="nbItemPerPage"
        [messages]="{emptyMessage: emptyMessage}"
        [sorts]="[{prop: 'SendAt', dir: 'desc'}]"
        (sort)="onSort($event)"

        > 
            <ngx-datatable-column name="Envoyé le" prop="SendAt" [maxWidth]="200">
                <ng-template let-column="column" ngx-datatable-header-template>{{ column.name }}</ng-template>
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{ row.SendAt }}
                </ng-template>
            </ngx-datatable-column>

            <ngx-datatable-column name="Contenu" prop="Content">
                <ng-template let-column="column" ngx-datatable-header-template>{{ column.name }}</ng-template>
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{ row.Content| slice:0:90 }}...
                </ng-template>
            </ngx-datatable-column>

            <ngx-datatable-column [resizeable]="true" [maxWidth]="170" name="Envoyé à" prop="To">
                <ng-template let-column="column" ngx-datatable-header-template>{{ column.name }}</ng-template>
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{ row.To }}
                </ng-template>
            </ngx-datatable-column>

            <ngx-datatable-column name="Action" [maxWidth]="120" >
                <ng-template let-column="column" ngx-datatable-header-template>Action</ng-template>    
                <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>    
                    <div class="text-left">    
                        <a title="Edit" class="mr-2" href="javascript:void(0);">Edit</a>    
                        <a title="Delete" href="javascript:void(0);"    
                        >Delete</a>    
                    </div>    
                </ng-template>    
            </ngx-datatable-column> 
            <ngx-datatable-footer>
                <ng-template
                  ngx-datatable-footer-template
                  let-rowCount="rowCount"
                  let-pageSize="pageSize"
                  let-selectedCount="selectedCount"
                  let-curPage="curPage"
                  let-offset="offset"
                >
                  <div style="padding: 5px 10px">
                      Total: {{ rowCount }} | Page actuelle:
                      {{ curPage }} | Offset: {{ offset }}
                  </div>
                </ng-template>
              </ngx-datatable-footer>
        </ngx-datatable>
        <div class="flex-1">
            <p-paginator (onPageChange)="onPageChange($event)" [first]="1" [rows]="nbItemPerPage" [totalRecords]="totalItems" [rowsPerPageOptions]="pageLimitOptions" [showFirstLastIcon]="true"></p-paginator>
        </div>   
    </div>
</div>
<br />